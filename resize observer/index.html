<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Frontend System Design Fundamentals</title>
    <link rel="stylesheet" href="./index.css">
</head>

<body>
    <main id="container">
        <div class="box">
            A
        </div>
        <div class="box">
            B
        </div>
        <div class="box">
            C
        </div>
        <div class="box">
            D
        </div>
    </main>
    <script type="module">

        const observer = new ResizeObserver(entries => {
            for (const entry of entries) {
                const target = entry.target;
                const box = entry.borderBoxSize[0];

                if (box.inlineSize <= 150 && box.blockSize <= 150) {
                    target.style.borderRadius = "100%";
                    target.style.border = "2px solid gray"
                } else {
                    target.style.borderRadius = "unset";
                    target.style.border = ""
                }

            }
        })
        /*
         * 1. Initiate Resize observer
         * 2. Implement callback - use inlineSize and blockSize of the entries for width and height
         * 3. If width and height is less than 150px
         *   3.1 - Apply border-radius: 100%
         *   3.2 - Apply border-width: 4px
         * 4. If width and height is more than 150px = unset the properties above
         * 5. All 4 boxes should use same observer
         */
        const boxs = document.querySelectorAll('.box')
        boxs.forEach(box => observer.observe(box)) 
    </script>
</body>

</html>